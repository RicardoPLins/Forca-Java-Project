import java.io.File;
import java.util.ArrayList;
import java.util.Random;
import java.util.Scanner;

public class JogoDaForca {
	private ArrayList<String> palavras = new ArrayList<>();
	private ArrayList<String> dicas = new ArrayList<>(); 
	private String dica=""; 
	private String[] letras;
	private int acertos; 
	private int penalidade; 
	private String palavrasorteada;
	private int numero;
	public JogoDaForca(String nomearquivo) throws Exception{
		try {
			Scanner arquivo = new Scanner(new File(nomearquivo));
			String palavra, dica;
			String[] partes;
			while(arquivo.hasNextLine()) {
				partes = arquivo.nextLine().split(";");
				palavra = partes[0];
				dica = partes[1];
				this.palavras.add(palavra);
				this.dicas.add(dica);	
			}	
		} catch(Exception e) {
			throw new Exception("Arquivo não encontrado");
		}
	}
	public void iniciar() {
		Random random = new Random();
		int numero = random.nextInt(palavras.size());
		palavrasorteada = palavras.get(numero);
	}
	public String getDica() {
		dica = dicas.get(numero);
		return dica;
	}
	public int getTamanho() {
		return palavrasorteada.length();
	}
	public String[] getLetras() throws Exception {
		letras = palavrasorteada.split("");
		return letras;
	}


	public ArrayList<Integer> getPosicoes(String letra) throws Exception{
		ArrayList<Integer> lista =  new ArrayList<>(); 

		for(int i=0; i < letras.length; i++) {
			if (letra == letras[i]) {
				lista.add(i);
				letras[i] = "*";
				acertos +=1;
			}
			else {
				penalidade +=1;
			}
		}
		return lista;
	}

	public boolean terminou() {
		if (acertos == getTamanho() || getPenalidade() == 6){
			return true;
		}else {
			return false;
		}
	}
	public int getAcertos() {
		return acertos;
	}
	public int getPenalidade() {
		return penalidade;
	}
	public String getResultado() {
		if (getPenalidade() > 5) {
			return "Você foi enforcado";
		}
		if (getAcertos() == palavrasorteada.length()) {
			return "Você venceu";}
		else {
			return "Jogo em andamento";
		}
	}
}






